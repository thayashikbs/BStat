<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>12 アソシエーション分析 | ビジネス統計</title>
  <meta name="description" content="12 アソシエーション分析 | ビジネス統計" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="12 アソシエーション分析 | ビジネス統計" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="12 アソシエーション分析 | ビジネス統計" />
  
  
  

<meta name="author" content="林 高樹" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="クラスター分析.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> はじめに</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#コースの目的"><i class="fa fa-check"></i><b>1.1</b> コースの目的</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#統計学統計的手法の学習について"><i class="fa fa-check"></i><b>1.2</b> 統計学/統計的手法の学習について</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#学習の目標"><i class="fa fa-check"></i>学習の目標</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#統計学統計的手法の学習方法"><i class="fa fa-check"></i>統計学/統計的手法の学習方法</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#統計学統計的手法の学習ステップ"><i class="fa fa-check"></i>統計学/統計的手法の学習ステップ</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#ビジネス応用における統計学の最近の趨勢"><i class="fa fa-check"></i><b>1.3</b> ビジネス応用における統計学の最近の趨勢</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#本書内の記載の注意点"><i class="fa fa-check"></i><b>1.4</b> 本書内の記載の注意点</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r言語の基本.html"><a href="r言語の基本.html"><i class="fa fa-check"></i><b>2</b> R言語の基本</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r言語の基本.html"><a href="r言語の基本.html#rの基本プログラミング"><i class="fa fa-check"></i><b>2.1</b> Rの基本プログラミング</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="r言語の基本.html"><a href="r言語の基本.html#基本操作"><i class="fa fa-check"></i><b>2.1.1</b> 基本操作</a></li>
<li class="chapter" data-level="2.1.2" data-path="r言語の基本.html"><a href="r言語の基本.html#基本構文"><i class="fa fa-check"></i><b>2.1.2</b> 基本構文</a></li>
<li class="chapter" data-level="2.1.3" data-path="r言語の基本.html"><a href="r言語の基本.html#自作関数"><i class="fa fa-check"></i><b>2.1.3</b> 自作関数</a></li>
<li class="chapter" data-level="2.1.4" data-path="r言語の基本.html"><a href="r言語の基本.html#パッケージのインストール-読み込み"><i class="fa fa-check"></i><b>2.1.4</b> パッケージのインストール &amp; 読み込み</a></li>
<li class="chapter" data-level="2.1.5" data-path="r言語の基本.html"><a href="r言語の基本.html#ヘルプ"><i class="fa fa-check"></i><b>2.1.5</b> ヘルプ</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="r言語の基本.html"><a href="r言語の基本.html#データの型や構造"><i class="fa fa-check"></i><b>2.2</b> データの型や構造</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="r言語の基本.html"><a href="r言語の基本.html#データの値の種類-データ型"><i class="fa fa-check"></i><b>2.2.1</b> データの値の種類 (“データ型”)</a></li>
<li class="chapter" data-level="2.2.2" data-path="r言語の基本.html"><a href="r言語の基本.html#データの配列の仕方-データ構造"><i class="fa fa-check"></i><b>2.2.2</b> データの配列の仕方 (“データ構造”)</a></li>
<li class="chapter" data-level="2.2.3" data-path="r言語の基本.html"><a href="r言語の基本.html#ベクトル"><i class="fa fa-check"></i><b>2.2.3</b> ベクトル</a></li>
<li class="chapter" data-level="2.2.4" data-path="r言語の基本.html"><a href="r言語の基本.html#行列"><i class="fa fa-check"></i><b>2.2.4</b> 行列</a></li>
<li class="chapter" data-level="2.2.5" data-path="r言語の基本.html"><a href="r言語の基本.html#リスト"><i class="fa fa-check"></i><b>2.2.5</b> リスト</a></li>
<li class="chapter" data-level="2.2.6" data-path="r言語の基本.html"><a href="r言語の基本.html#データフレーム"><i class="fa fa-check"></i><b>2.2.6</b> データフレーム</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r言語の基本.html"><a href="r言語の基本.html#データの操作演算"><i class="fa fa-check"></i><b>2.3</b> データの操作・演算</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="r言語の基本.html"><a href="r言語の基本.html#ベクトルの結合-ソート"><i class="fa fa-check"></i><b>2.3.1</b> ベクトルの結合, ソート</a></li>
<li class="chapter" data-level="2.3.2" data-path="r言語の基本.html"><a href="r言語の基本.html#二項演算"><i class="fa fa-check"></i><b>2.3.2</b> 二項演算</a></li>
<li class="chapter" data-level="2.3.3" data-path="r言語の基本.html"><a href="r言語の基本.html#論理演算"><i class="fa fa-check"></i><b>2.3.3</b> 論理演算</a></li>
<li class="chapter" data-level="2.3.4" data-path="r言語の基本.html"><a href="r言語の基本.html#条件式"><i class="fa fa-check"></i><b>2.3.4</b> 条件式</a></li>
<li class="chapter" data-level="2.3.5" data-path="r言語の基本.html"><a href="r言語の基本.html#行列演算"><i class="fa fa-check"></i><b>2.3.5</b> 行列演算</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="r言語の基本.html"><a href="r言語の基本.html#r関数"><i class="fa fa-check"></i><b>2.4</b> R関数</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="r言語の基本.html"><a href="r言語の基本.html#数学基本関数"><i class="fa fa-check"></i><b>2.4.1</b> 数学基本関数</a></li>
<li class="chapter" data-level="2.4.2" data-path="r言語の基本.html"><a href="r言語の基本.html#基本統計量の計算"><i class="fa fa-check"></i><b>2.4.2</b> 基本統計量の計算</a></li>
<li class="chapter" data-level="2.4.3" data-path="r言語の基本.html"><a href="r言語の基本.html#確率分布"><i class="fa fa-check"></i><b>2.4.3</b> 確率分布</a></li>
<li class="chapter" data-level="2.4.4" data-path="r言語の基本.html"><a href="r言語の基本.html#その他便利な関数"><i class="fa fa-check"></i><b>2.4.4</b> その他便利な関数</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="r言語の基本.html"><a href="r言語の基本.html#データの可視化"><i class="fa fa-check"></i><b>2.5</b> データの可視化</a></li>
<li class="chapter" data-level="2.6" data-path="r言語の基本.html"><a href="r言語の基本.html#ファイル入出力"><i class="fa fa-check"></i><b>2.6</b> ファイル入出力</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="r言語の基本.html"><a href="r言語の基本.html#テキストファイル読み込み"><i class="fa fa-check"></i><b>2.6.1</b> テキストファイル読み込み</a></li>
<li class="chapter" data-level="2.6.2" data-path="r言語の基本.html"><a href="r言語の基本.html#テキストファイル書き出し"><i class="fa fa-check"></i><b>2.6.2</b> テキストファイル書き出し</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="仮説検定.html"><a href="仮説検定.html"><i class="fa fa-check"></i><b>3</b> 仮説検定</a>
<ul>
<li class="chapter" data-level="3.1" data-path="仮説検定.html"><a href="仮説検定.html#平均値の差の検定"><i class="fa fa-check"></i><b>3.1</b> 平均値の差の検定</a></li>
<li class="chapter" data-level="3.2" data-path="仮説検定.html"><a href="仮説検定.html#カイ二乗検定"><i class="fa fa-check"></i><b>3.2</b> カイ二乗検定</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="仮説検定.html"><a href="仮説検定.html#独立性検定"><i class="fa fa-check"></i><b>3.2.1</b> 独立性検定</a></li>
<li class="chapter" data-level="3.2.2" data-path="仮説検定.html"><a href="仮説検定.html#適合度検定"><i class="fa fa-check"></i><b>3.2.2</b> 適合度検定</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="仮説検定.html"><a href="仮説検定.html#分析例-統計テストデータ"><i class="fa fa-check"></i><b>3.3</b> 分析例: 統計テストデータ</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="分散分析-anova.html"><a href="分散分析-anova.html"><i class="fa fa-check"></i><b>4</b> 分散分析 (ANOVA)</a>
<ul>
<li class="chapter" data-level="4.1" data-path="分散分析-anova.html"><a href="分散分析-anova.html#元配置anova"><i class="fa fa-check"></i><b>4.1</b> 1元配置ANOVA</a></li>
<li class="chapter" data-level="4.2" data-path="分散分析-anova.html"><a href="分散分析-anova.html#元配置anova-1"><i class="fa fa-check"></i><b>4.2</b> 2元配置ANOVA</a></li>
<li class="chapter" data-level="4.3" data-path="分散分析-anova.html"><a href="分散分析-anova.html#分析例"><i class="fa fa-check"></i><b>4.3</b> 分析例</a>
<ul>
<li class="chapter" data-level="" data-path="分散分析-anova.html"><a href="分散分析-anova.html#データ1-2業種口コミサイト仮想データ"><i class="fa fa-check"></i>データ1: 2業種口コミサイト(仮想データ)</a></li>
<li class="chapter" data-level="" data-path="分散分析-anova.html"><a href="分散分析-anova.html#データ2-統計小テストデータ"><i class="fa fa-check"></i>データ2: 統計小テストデータ</a></li>
<li class="chapter" data-level="" data-path="分散分析-anova.html"><a href="分散分析-anova.html#データ3-経営科学アンケート"><i class="fa fa-check"></i>データ3: 経営科学アンケート</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="線形回帰分析.html"><a href="線形回帰分析.html"><i class="fa fa-check"></i><b>5</b> 線形回帰分析</a>
<ul>
<li class="chapter" data-level="5.1" data-path="線形回帰分析.html"><a href="線形回帰分析.html#重回帰分析の基本操作"><i class="fa fa-check"></i><b>5.1</b> 重回帰分析の基本操作</a>
<ul>
<li class="chapter" data-level="" data-path="線形回帰分析.html"><a href="線形回帰分析.html#データ1-1ルーム賃貸マンション"><i class="fa fa-check"></i>データ1: 1ルーム賃貸マンション</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="線形回帰分析.html"><a href="線形回帰分析.html#変数の選択"><i class="fa fa-check"></i><b>5.2</b> 変数の選択</a>
<ul>
<li class="chapter" data-level="" data-path="線形回帰分析.html"><a href="線形回帰分析.html#データ2-ボストン市内住宅物件価格データ"><i class="fa fa-check"></i>データ2: ボストン市内住宅物件価格データ</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="線形回帰分析.html"><a href="線形回帰分析.html#説明変数に質的変数を含む回帰"><i class="fa fa-check"></i><b>5.3</b> 説明変数に質的変数を含む回帰</a>
<ul>
<li class="chapter" data-level="" data-path="線形回帰分析.html"><a href="線形回帰分析.html#データセット3-高速道路事故データ"><i class="fa fa-check"></i>データセット#3: 高速道路事故データ</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="線形回帰分析.html"><a href="線形回帰分析.html#時系列データ同士の回帰"><i class="fa fa-check"></i><b>5.4</b> 時系列データ同士の回帰</a>
<ul>
<li class="chapter" data-level="" data-path="線形回帰分析.html"><a href="線形回帰分析.html#データセット4-株式市場"><i class="fa fa-check"></i>データセット#4: 株式市場</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="線形回帰分析.html"><a href="線形回帰分析.html#線形モデル"><i class="fa fa-check"></i><b>5.5</b> 線形モデル</a>
<ul>
<li class="chapter" data-level="" data-path="線形回帰分析.html"><a href="線形回帰分析.html#因子モデルの例-交互作用なし"><i class="fa fa-check"></i>2因子モデルの例 (交互作用なし)</a></li>
<li class="chapter" data-level="" data-path="線形回帰分析.html"><a href="線形回帰分析.html#因子モデルの例-交互作用有り"><i class="fa fa-check"></i>2因子モデルの例 (交互作用有り)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ロジットブロビット回帰分析.html"><a href="ロジットブロビット回帰分析.html"><i class="fa fa-check"></i><b>6</b> ロジット/ブロビット回帰分析</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ロジットブロビット回帰分析.html"><a href="ロジットブロビット回帰分析.html#ロジット回帰分析の基本操作"><i class="fa fa-check"></i><b>6.1</b> ロジット回帰分析の基本操作</a>
<ul>
<li class="chapter" data-level="" data-path="ロジットブロビット回帰分析.html"><a href="ロジットブロビット回帰分析.html#ロジットモデル-シミュレーションデータ"><i class="fa fa-check"></i>ロジットモデル: シミュレーションデータ</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="ロジットブロビット回帰分析.html"><a href="ロジットブロビット回帰分析.html#データ分析例"><i class="fa fa-check"></i><b>6.2</b> データ分析例</a>
<ul>
<li class="chapter" data-level="" data-path="ロジットブロビット回帰分析.html"><a href="ロジットブロビット回帰分析.html#データセット-1-販売プロモーションデータ-仮想"><i class="fa fa-check"></i>データセット (1): 販売プロモーション・データ (仮想)</a></li>
<li class="chapter" data-level="" data-path="ロジットブロビット回帰分析.html"><a href="ロジットブロビット回帰分析.html#データセット-2-個人ローンデフォルトデータ-仮想"><i class="fa fa-check"></i>データセット (2): 個人ローン・デフォルト・データ (仮想)</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="ロジットブロビット回帰分析.html"><a href="ロジットブロビット回帰分析.html#疑似r2の計算"><i class="fa fa-check"></i><b>6.3</b> 疑似R2の計算</a>
<ul>
<li class="chapter" data-level="" data-path="ロジットブロビット回帰分析.html"><a href="ロジットブロビット回帰分析.html#パッケージdesctoolsの利用"><i class="fa fa-check"></i>パッケージDescToolsの利用</a></li>
<li class="chapter" data-level="" data-path="ロジットブロビット回帰分析.html"><a href="ロジットブロビット回帰分析.html#パッケージpsclの利用"><i class="fa fa-check"></i>パッケージpsclの利用</a></li>
<li class="chapter" data-level="" data-path="ロジットブロビット回帰分析.html"><a href="ロジットブロビット回帰分析.html#パッケージperformanceの利用"><i class="fa fa-check"></i>パッケージperformanceの利用</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="ロジットブロビット回帰分析.html"><a href="ロジットブロビット回帰分析.html#関数factorについて"><i class="fa fa-check"></i><b>6.4</b> 関数<code>factor()</code>について</a>
<ul>
<li class="chapter" data-level="" data-path="ロジットブロビット回帰分析.html"><a href="ロジットブロビット回帰分析.html#rでのfactor関数の使い方"><i class="fa fa-check"></i>Rでのfactor関数の使い方</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="判別分析.html"><a href="判別分析.html"><i class="fa fa-check"></i><b>7</b> 判別分析</a>
<ul>
<li class="chapter" data-level="7.1" data-path="判別分析.html"><a href="判別分析.html#線形判別-2次判別---パッケージmassの利用"><i class="fa fa-check"></i><b>7.1</b> 線形判別 &amp; 2次判別 - パッケージMASSの利用</a>
<ul>
<li class="chapter" data-level="" data-path="判別分析.html"><a href="判別分析.html#データセット-1-ビジネススクールの入学許可データ"><i class="fa fa-check"></i>データセット (1): ビジネススクールの入学許可データ</a></li>
<li class="chapter" data-level="" data-path="判別分析.html"><a href="判別分析.html#線形判別-lda"><i class="fa fa-check"></i>線形判別 (LDA)</a></li>
<li class="chapter" data-level="" data-path="判別分析.html"><a href="判別分析.html#次判別-qda"><i class="fa fa-check"></i>2次判別 (QDA)</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="判別分析.html"><a href="判別分析.html#knn法---パッケージclassの利用"><i class="fa fa-check"></i><b>7.2</b> kNN法 - パッケージclassの利用</a></li>
<li class="chapter" data-level="7.3" data-path="判別分析.html"><a href="判別分析.html#データセット分割学習判別評価"><i class="fa fa-check"></i><b>7.3</b> データセット分割・学習・判別・評価</a>
<ul>
<li class="chapter" data-level="" data-path="判別分析.html"><a href="判別分析.html#データセット2-個人ローンデフォルトデータ-仮想"><i class="fa fa-check"></i>データセット2: 個人ローン・デフォルト・データ (仮想)</a></li>
<li class="chapter" data-level="" data-path="判別分析.html"><a href="判別分析.html#線形判別"><i class="fa fa-check"></i>線形判別</a></li>
<li class="chapter" data-level="" data-path="判別分析.html"><a href="判別分析.html#knn法"><i class="fa fa-check"></i>kNN法</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="判別分析.html"><a href="判別分析.html#他パッケージの利用"><i class="fa fa-check"></i><b>7.4</b> 他パッケージの利用</a>
<ul>
<li class="chapter" data-level="" data-path="判別分析.html"><a href="判別分析.html#パッケージklar"><i class="fa fa-check"></i>パッケージ<strong>klaR</strong></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="決定木分析.html"><a href="決定木分析.html"><i class="fa fa-check"></i><b>8</b> 決定木分析</a>
<ul>
<li class="chapter" data-level="8.1" data-path="決定木分析.html"><a href="決定木分析.html#導入-回帰木-vs-線形回帰"><i class="fa fa-check"></i><b>8.1</b> 導入: 回帰木 vs 線形回帰</a>
<ul>
<li class="chapter" data-level="" data-path="決定木分析.html"><a href="決定木分析.html#データセット1-自動車の制動距離"><i class="fa fa-check"></i>データセット1: 自動車の制動距離</a></li>
<li class="chapter" data-level="8.1.1" data-path="決定木分析.html"><a href="決定木分析.html#基本操作-回帰木"><i class="fa fa-check"></i><b>8.1.1</b> 基本操作: 回帰木</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="決定木分析.html"><a href="決定木分析.html#回帰木"><i class="fa fa-check"></i><b>8.2</b> 回帰木</a>
<ul>
<li class="chapter" data-level="" data-path="決定木分析.html"><a href="決定木分析.html#データセット2-ワイン品質データ"><i class="fa fa-check"></i>データセット2: ワイン品質データ</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="決定木分析.html"><a href="決定木分析.html#分類木"><i class="fa fa-check"></i><b>8.3</b> 分類木</a>
<ul>
<li class="chapter" data-level="" data-path="決定木分析.html"><a href="決定木分析.html#データセット3-自動車評価データ"><i class="fa fa-check"></i>データセット3: 自動車評価データ</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="主成分分析-pca.html"><a href="主成分分析-pca.html"><i class="fa fa-check"></i><b>9</b> 主成分分析 (PCA)</a>
<ul>
<li class="chapter" data-level="9.1" data-path="主成分分析-pca.html"><a href="主成分分析-pca.html#基本操作-1"><i class="fa fa-check"></i><b>9.1</b> 基本操作</a>
<ul>
<li class="chapter" data-level="" data-path="主成分分析-pca.html"><a href="主成分分析-pca.html#データセット1-ソニー株価リターン-vs-パナソニック株価リターン"><i class="fa fa-check"></i>データセット1: ソニー株価リターン vs パナソニック株価リターン</a></li>
<li class="chapter" data-level="" data-path="主成分分析-pca.html"><a href="主成分分析-pca.html#データセット2-従業員スキル評価データ仮想"><i class="fa fa-check"></i>データセット2: 従業員スキル評価データ(仮想)</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="主成分分析-pca.html"><a href="主成分分析-pca.html#種類のpca-相関行列ベース-vs-分散共分散行列ベース"><i class="fa fa-check"></i><b>9.2</b> 2種類のPCA: 相関行列ベース vs 分散共分散行列ベース</a>
<ul>
<li class="chapter" data-level="" data-path="主成分分析-pca.html"><a href="主成分分析-pca.html#データセット3-usarrests-data"><i class="fa fa-check"></i>データセット3: USArrests data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="探索的因子分析.html"><a href="探索的因子分析.html"><i class="fa fa-check"></i><b>10</b> 探索的因子分析</a>
<ul>
<li class="chapter" data-level="10.1" data-path="探索的因子分析.html"><a href="探索的因子分析.html#基本操作-2"><i class="fa fa-check"></i><b>10.1</b> 基本操作</a>
<ul>
<li class="chapter" data-level="" data-path="探索的因子分析.html"><a href="探索的因子分析.html#データセット1-従業員評価データ-仮想"><i class="fa fa-check"></i>データセット1: 従業員評価データ (仮想)</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="探索的因子分析.html"><a href="探索的因子分析.html#ライブラリpsychの利用"><i class="fa fa-check"></i><b>10.2</b> ライブラリ<strong>psych</strong>の利用</a></li>
<li class="chapter" data-level="10.3" data-path="探索的因子分析.html"><a href="探索的因子分析.html#因子分析に有用なツール"><i class="fa fa-check"></i><b>10.3</b> 因子分析に有用なツール</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="クラスター分析.html"><a href="クラスター分析.html"><i class="fa fa-check"></i><b>11</b> クラスター分析</a>
<ul>
<li class="chapter" data-level="11.1" data-path="クラスター分析.html"><a href="クラスター分析.html#基本操作-3"><i class="fa fa-check"></i><b>11.1</b> 基本操作</a>
<ul>
<li class="chapter" data-level="" data-path="クラスター分析.html"><a href="クラスター分析.html#階層型クラスタリング"><i class="fa fa-check"></i>階層型クラスタリング</a></li>
<li class="chapter" data-level="" data-path="クラスター分析.html"><a href="クラスター分析.html#k-means法"><i class="fa fa-check"></i>k-means法</a></li>
<li class="chapter" data-level="" data-path="クラスター分析.html"><a href="クラスター分析.html#変数に対するクラスタリング"><i class="fa fa-check"></i>変数に対するクラスタリング</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="クラスター分析.html"><a href="クラスター分析.html#データ分析例-1"><i class="fa fa-check"></i><b>11.2</b> データ分析例</a>
<ul>
<li class="chapter" data-level="" data-path="クラスター分析.html"><a href="クラスター分析.html#データセット-1-ワイン品質データ-再掲"><i class="fa fa-check"></i>データセット (1): ワイン品質データ (再掲)</a></li>
<li class="chapter" data-level="" data-path="クラスター分析.html"><a href="クラスター分析.html#データセット-2-id無し-posデータ"><i class="fa fa-check"></i>データセット (2): (ID無し) POSデータ</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="クラスター分析.html"><a href="クラスター分析.html#発展的なクラスター分析"><i class="fa fa-check"></i><b>11.3</b> 発展的なクラスター分析</a>
<ul>
<li class="chapter" data-level="" data-path="クラスター分析.html"><a href="クラスター分析.html#関数agnes"><i class="fa fa-check"></i>関数<code>agnes</code></a></li>
<li class="chapter" data-level="" data-path="クラスター分析.html"><a href="クラスター分析.html#関数pheatmap"><i class="fa fa-check"></i>関数<code>pheatmap</code></a></li>
<li class="chapter" data-level="" data-path="クラスター分析.html"><a href="クラスター分析.html#関数pam"><i class="fa fa-check"></i>関数<code>pam</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="アソシエーション分析.html"><a href="アソシエーション分析.html"><i class="fa fa-check"></i><b>12</b> アソシエーション分析</a>
<ul>
<li class="chapter" data-level="12.1" data-path="アソシエーション分析.html"><a href="アソシエーション分析.html#基本操作-4"><i class="fa fa-check"></i><b>12.1</b> 基本操作</a>
<ul>
<li class="chapter" data-level="" data-path="アソシエーション分析.html"><a href="アソシエーション分析.html#arulesパッケージの機能"><i class="fa fa-check"></i>arulesパッケージの機能</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="アソシエーション分析.html"><a href="アソシエーション分析.html#データ分析例-2"><i class="fa fa-check"></i><b>12.2</b> データ分析例</a>
<ul>
<li class="chapter" data-level="" data-path="アソシエーション分析.html"><a href="アソシエーション分析.html#データセット-id無し-posデータ-再掲"><i class="fa fa-check"></i>データセット: (ID無し) POSデータ (再掲)</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ビジネス統計</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="アソシエーション分析" class="section level1 hasAnchor" number="12">
<h1><span class="header-section-number">12</span> アソシエーション分析<a href="アソシエーション分析.html#アソシエーション分析" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="基本操作-4" class="section level2 hasAnchor" number="12.1">
<h2><span class="header-section-number">12.1</span> 基本操作<a href="アソシエーション分析.html#基本操作-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="arulesパッケージの機能" class="section level3 unnumbered hasAnchor">
<h3>arulesパッケージの機能<a href="アソシエーション分析.html#arulesパッケージの機能" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>簡単な例 (仮想データ).</p>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="アソシエーション分析.html#cb393-1" tabindex="-1"></a><span class="fu">library</span>(arules)  <span class="co"># as, apriori, inspect, itemFrequencyPlot</span></span>
<span id="cb393-2"><a href="アソシエーション分析.html#cb393-2" tabindex="-1"></a></span>
<span id="cb393-3"><a href="アソシエーション分析.html#cb393-3" tabindex="-1"></a><span class="co"># データ作成</span></span>
<span id="cb393-4"><a href="アソシエーション分析.html#cb393-4" tabindex="-1"></a>data1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">&quot;パン&quot;</span>, <span class="st">&quot;缶コーヒー&quot;</span>, <span class="st">&quot;チーズ&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;パン&quot;</span>, <span class="st">&quot;おにぎり&quot;</span>,</span>
<span id="cb393-5"><a href="アソシエーション分析.html#cb393-5" tabindex="-1"></a>  <span class="st">&quot;ビール&quot;</span>, <span class="st">&quot;オムツ&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;おでん&quot;</span>, <span class="st">&quot;ビール&quot;</span>, <span class="st">&quot;チーズ&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;ビール&quot;</span>,</span>
<span id="cb393-6"><a href="アソシエーション分析.html#cb393-6" tabindex="-1"></a>  <span class="st">&quot;オムツ&quot;</span>, <span class="st">&quot;タバコ&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;おでん&quot;</span>, <span class="st">&quot;おにぎり&quot;</span>, <span class="st">&quot;お茶&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;パン&quot;</span>,</span>
<span id="cb393-7"><a href="アソシエーション分析.html#cb393-7" tabindex="-1"></a>  <span class="st">&quot;ビール&quot;</span>, <span class="st">&quot;ハム&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;ビール&quot;</span>, <span class="st">&quot;タバコ&quot;</span>))</span>
<span id="cb393-8"><a href="アソシエーション分析.html#cb393-8" tabindex="-1"></a>data1</span>
<span id="cb393-9"><a href="アソシエーション分析.html#cb393-9" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb393-10"><a href="アソシエーション分析.html#cb393-10" tabindex="-1"></a><span class="co">#&gt; [1] &quot;パン&quot;       &quot;缶コーヒー&quot; &quot;チーズ&quot;    </span></span>
<span id="cb393-11"><a href="アソシエーション分析.html#cb393-11" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb393-12"><a href="アソシエーション分析.html#cb393-12" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb393-13"><a href="アソシエーション分析.html#cb393-13" tabindex="-1"></a><span class="co">#&gt; [1] &quot;パン&quot;     &quot;おにぎり&quot; &quot;ビール&quot;   &quot;オムツ&quot;  </span></span>
<span id="cb393-14"><a href="アソシエーション分析.html#cb393-14" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb393-15"><a href="アソシエーション分析.html#cb393-15" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb393-16"><a href="アソシエーション分析.html#cb393-16" tabindex="-1"></a><span class="co">#&gt; [1] &quot;おでん&quot; &quot;ビール&quot; &quot;チーズ&quot;</span></span>
<span id="cb393-17"><a href="アソシエーション分析.html#cb393-17" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb393-18"><a href="アソシエーション分析.html#cb393-18" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb393-19"><a href="アソシエーション分析.html#cb393-19" tabindex="-1"></a><span class="co">#&gt; [1] &quot;ビール&quot; &quot;オムツ&quot; &quot;タバコ&quot;</span></span>
<span id="cb393-20"><a href="アソシエーション分析.html#cb393-20" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb393-21"><a href="アソシエーション分析.html#cb393-21" tabindex="-1"></a><span class="co">#&gt; [[5]]</span></span>
<span id="cb393-22"><a href="アソシエーション分析.html#cb393-22" tabindex="-1"></a><span class="co">#&gt; [1] &quot;おでん&quot;   &quot;おにぎり&quot; &quot;お茶&quot;    </span></span>
<span id="cb393-23"><a href="アソシエーション分析.html#cb393-23" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb393-24"><a href="アソシエーション分析.html#cb393-24" tabindex="-1"></a><span class="co">#&gt; [[6]]</span></span>
<span id="cb393-25"><a href="アソシエーション分析.html#cb393-25" tabindex="-1"></a><span class="co">#&gt; [1] &quot;パン&quot;   &quot;ビール&quot; &quot;ハム&quot;  </span></span>
<span id="cb393-26"><a href="アソシエーション分析.html#cb393-26" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb393-27"><a href="アソシエーション分析.html#cb393-27" tabindex="-1"></a><span class="co">#&gt; [[7]]</span></span>
<span id="cb393-28"><a href="アソシエーション分析.html#cb393-28" tabindex="-1"></a><span class="co">#&gt; [1] &quot;ビール&quot; &quot;タバコ&quot;</span></span></code></pre></div>
<p>入力データ形式に注意が必要.</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb394-1"><a href="アソシエーション分析.html#cb394-1" tabindex="-1"></a>data_tran <span class="ot">&lt;-</span> <span class="fu">as</span>(data1, <span class="st">&quot;transactions&quot;</span>)</span>
<span id="cb394-2"><a href="アソシエーション分析.html#cb394-2" tabindex="-1"></a><span class="fu">as</span>(data_tran, <span class="st">&quot;matrix&quot;</span>)  <span class="co"># matrix形式</span></span>
<span id="cb394-3"><a href="アソシエーション分析.html#cb394-3" tabindex="-1"></a><span class="co">#&gt;      おでん おにぎり  お茶 オムツ タバコ チーズ  ハム  パン ビール 缶コーヒー</span></span>
<span id="cb394-4"><a href="アソシエーション分析.html#cb394-4" tabindex="-1"></a><span class="co">#&gt; [1,]  FALSE    FALSE FALSE  FALSE  FALSE   TRUE FALSE  TRUE  FALSE       TRUE</span></span>
<span id="cb394-5"><a href="アソシエーション分析.html#cb394-5" tabindex="-1"></a><span class="co">#&gt; [2,]  FALSE     TRUE FALSE   TRUE  FALSE  FALSE FALSE  TRUE   TRUE      FALSE</span></span>
<span id="cb394-6"><a href="アソシエーション分析.html#cb394-6" tabindex="-1"></a><span class="co">#&gt; [3,]   TRUE    FALSE FALSE  FALSE  FALSE   TRUE FALSE FALSE   TRUE      FALSE</span></span>
<span id="cb394-7"><a href="アソシエーション分析.html#cb394-7" tabindex="-1"></a><span class="co">#&gt; [4,]  FALSE    FALSE FALSE   TRUE   TRUE  FALSE FALSE FALSE   TRUE      FALSE</span></span>
<span id="cb394-8"><a href="アソシエーション分析.html#cb394-8" tabindex="-1"></a><span class="co">#&gt; [5,]   TRUE     TRUE  TRUE  FALSE  FALSE  FALSE FALSE FALSE  FALSE      FALSE</span></span>
<span id="cb394-9"><a href="アソシエーション分析.html#cb394-9" tabindex="-1"></a><span class="co">#&gt; [6,]  FALSE    FALSE FALSE  FALSE  FALSE  FALSE  TRUE  TRUE   TRUE      FALSE</span></span>
<span id="cb394-10"><a href="アソシエーション分析.html#cb394-10" tabindex="-1"></a><span class="co">#&gt; [7,]  FALSE    FALSE FALSE  FALSE   TRUE  FALSE FALSE FALSE   TRUE      FALSE</span></span>
<span id="cb394-11"><a href="アソシエーション分析.html#cb394-11" tabindex="-1"></a><span class="fu">as</span>(data_tran, <span class="st">&quot;data.frame&quot;</span>)  <span class="co"># data_frame形式</span></span>
<span id="cb394-12"><a href="アソシエーション分析.html#cb394-12" tabindex="-1"></a><span class="co">#&gt;                           items</span></span>
<span id="cb394-13"><a href="アソシエーション分析.html#cb394-13" tabindex="-1"></a><span class="co">#&gt; 1      {チーズ,パン,缶コーヒー}</span></span>
<span id="cb394-14"><a href="アソシエーション分析.html#cb394-14" tabindex="-1"></a><span class="co">#&gt; 2 {おにぎり,オムツ,パン,ビール}</span></span>
<span id="cb394-15"><a href="アソシエーション分析.html#cb394-15" tabindex="-1"></a><span class="co">#&gt; 3        {おでん,チーズ,ビール}</span></span>
<span id="cb394-16"><a href="アソシエーション分析.html#cb394-16" tabindex="-1"></a><span class="co">#&gt; 4        {オムツ,タバコ,ビール}</span></span>
<span id="cb394-17"><a href="アソシエーション分析.html#cb394-17" tabindex="-1"></a><span class="co">#&gt; 5        {おでん,おにぎり,お茶}</span></span>
<span id="cb394-18"><a href="アソシエーション分析.html#cb394-18" tabindex="-1"></a><span class="co">#&gt; 6            {ハム,パン,ビール}</span></span>
<span id="cb394-19"><a href="アソシエーション分析.html#cb394-19" tabindex="-1"></a><span class="co">#&gt; 7               {タバコ,ビール}</span></span></code></pre></div>
<div id="アイテム頻度プロット" class="section level4 unnumbered hasAnchor">
<h4>アイテム頻度プロット<a href="アソシエーション分析.html#アイテム頻度プロット" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="アソシエーション分析.html#cb395-1" tabindex="-1"></a><span class="fu">itemFrequencyPlot</span>(data_tran, <span class="at">type =</span> <span class="st">&quot;absolute&quot;</span>)</span></code></pre></div>
<p><img src="130-assoc_files/figure-html/basket_2-1.png" width="75%" /></p>
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb396-1"><a href="アソシエーション分析.html#cb396-1" tabindex="-1"></a><span class="co"># support &gt;= 2 (支持度が2以上)</span></span>
<span id="cb396-2"><a href="アソシエーション分析.html#cb396-2" tabindex="-1"></a><span class="fu">itemFrequencyPlot</span>(data_tran, <span class="at">type =</span> <span class="st">&quot;absolute&quot;</span>, <span class="at">support =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="130-assoc_files/figure-html/basket_2-2.png" width="75%" /></p>
<p>次に, アソシエーション・ルール (相関ルール) の生成・抽出を行う.</p>
</div>
<div id="アソシエーションルールの生成抽出" class="section level4 unnumbered hasAnchor">
<h4>アソシエーション・ルールの生成・抽出<a href="アソシエーション分析.html#アソシエーションルールの生成抽出" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="アソシエーション分析.html#cb397-1" tabindex="-1"></a><span class="co"># 相関ルール抽出関数</span></span>
<span id="cb397-2"><a href="アソシエーション分析.html#cb397-2" tabindex="-1"></a>data_ap <span class="ot">&lt;-</span> <span class="fu">apriori</span>(data_tran, <span class="at">parameter =</span> <span class="cn">NULL</span>, <span class="at">appearance =</span> <span class="cn">NULL</span>, <span class="at">control =</span> <span class="cn">NULL</span>)</span>
<span id="cb397-3"><a href="アソシエーション分析.html#cb397-3" tabindex="-1"></a><span class="co">#&gt; Apriori</span></span>
<span id="cb397-4"><a href="アソシエーション分析.html#cb397-4" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb397-5"><a href="アソシエーション分析.html#cb397-5" tabindex="-1"></a><span class="co">#&gt; Parameter specification:</span></span>
<span id="cb397-6"><a href="アソシエーション分析.html#cb397-6" tabindex="-1"></a><span class="co">#&gt;  confidence minval smax arem  aval originalSupport maxtime support minlen</span></span>
<span id="cb397-7"><a href="アソシエーション分析.html#cb397-7" tabindex="-1"></a><span class="co">#&gt;         0.8    0.1    1 none FALSE            TRUE       5     0.1      1</span></span>
<span id="cb397-8"><a href="アソシエーション分析.html#cb397-8" tabindex="-1"></a><span class="co">#&gt;  maxlen target  ext</span></span>
<span id="cb397-9"><a href="アソシエーション分析.html#cb397-9" tabindex="-1"></a><span class="co">#&gt;      10  rules TRUE</span></span>
<span id="cb397-10"><a href="アソシエーション分析.html#cb397-10" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb397-11"><a href="アソシエーション分析.html#cb397-11" tabindex="-1"></a><span class="co">#&gt; Algorithmic control:</span></span>
<span id="cb397-12"><a href="アソシエーション分析.html#cb397-12" tabindex="-1"></a><span class="co">#&gt;  filter tree heap memopt load sort verbose</span></span>
<span id="cb397-13"><a href="アソシエーション分析.html#cb397-13" tabindex="-1"></a><span class="co">#&gt;     0.1 TRUE TRUE  FALSE TRUE    2    TRUE</span></span>
<span id="cb397-14"><a href="アソシエーション分析.html#cb397-14" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb397-15"><a href="アソシエーション分析.html#cb397-15" tabindex="-1"></a><span class="co">#&gt; Absolute minimum support count: 0 </span></span>
<span id="cb397-16"><a href="アソシエーション分析.html#cb397-16" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb397-17"><a href="アソシエーション分析.html#cb397-17" tabindex="-1"></a><span class="co">#&gt; set item appearances ...[0 item(s)] done [0.00s].</span></span>
<span id="cb397-18"><a href="アソシエーション分析.html#cb397-18" tabindex="-1"></a><span class="co">#&gt; set transactions ...[10 item(s), 7 transaction(s)] done [0.00s].</span></span>
<span id="cb397-19"><a href="アソシエーション分析.html#cb397-19" tabindex="-1"></a><span class="co">#&gt; sorting and recoding items ... [10 item(s)] done [0.00s].</span></span>
<span id="cb397-20"><a href="アソシエーション分析.html#cb397-20" tabindex="-1"></a><span class="co">#&gt; creating transaction tree ... done [0.00s].</span></span>
<span id="cb397-21"><a href="アソシエーション分析.html#cb397-21" tabindex="-1"></a><span class="co">#&gt; checking subsets of size 1 2 3 4 done [0.00s].</span></span>
<span id="cb397-22"><a href="アソシエーション分析.html#cb397-22" tabindex="-1"></a><span class="co">#&gt; writing ... [32 rule(s)] done [0.00s].</span></span>
<span id="cb397-23"><a href="アソシエーション分析.html#cb397-23" tabindex="-1"></a><span class="co">#&gt; creating S4 object  ... done [0.00s].</span></span></code></pre></div>
<p>→ 抽出されたアイテムがゼロ件. うまくいかない. 何故!?</p>
<p>実際, ルールの抽出条件を絞り込む必要有り.</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="アソシエーション分析.html#cb398-1" tabindex="-1"></a><span class="co"># support上位6位のルールを抽出</span></span>
<span id="cb398-2"><a href="アソシエーション分析.html#cb398-2" tabindex="-1"></a><span class="fu">inspect</span>(<span class="fu">head</span>(<span class="fu">sort</span>(data_ap, <span class="at">by =</span> <span class="st">&quot;support&quot;</span>), <span class="at">n =</span> <span class="dv">6</span>))</span>
<span id="cb398-3"><a href="アソシエーション分析.html#cb398-3" tabindex="-1"></a><span class="co">#&gt;     lhs             rhs        support   confidence coverage  lift     count</span></span>
<span id="cb398-4"><a href="アソシエーション分析.html#cb398-4" tabindex="-1"></a><span class="co">#&gt; [1] {タバコ}     =&gt; {ビール}   0.2857143 1          0.2857143 1.400000 2    </span></span>
<span id="cb398-5"><a href="アソシエーション分析.html#cb398-5" tabindex="-1"></a><span class="co">#&gt; [2] {オムツ}     =&gt; {ビール}   0.2857143 1          0.2857143 1.400000 2    </span></span>
<span id="cb398-6"><a href="アソシエーション分析.html#cb398-6" tabindex="-1"></a><span class="co">#&gt; [3] {缶コーヒー} =&gt; {チーズ}   0.1428571 1          0.1428571 3.500000 1    </span></span>
<span id="cb398-7"><a href="アソシエーション分析.html#cb398-7" tabindex="-1"></a><span class="co">#&gt; [4] {缶コーヒー} =&gt; {パン}     0.1428571 1          0.1428571 2.333333 1    </span></span>
<span id="cb398-8"><a href="アソシエーション分析.html#cb398-8" tabindex="-1"></a><span class="co">#&gt; [5] {お茶}       =&gt; {おでん}   0.1428571 1          0.1428571 3.500000 1    </span></span>
<span id="cb398-9"><a href="アソシエーション分析.html#cb398-9" tabindex="-1"></a><span class="co">#&gt; [6] {お茶}       =&gt; {おにぎり} 0.1428571 1          0.1428571 3.500000 1</span></span>
<span id="cb398-10"><a href="アソシエーション分析.html#cb398-10" tabindex="-1"></a><span class="fu">inspect</span>(<span class="fu">head</span>(<span class="fu">sort</span>(data_ap, <span class="at">by =</span> <span class="st">&quot;lift&quot;</span>), <span class="at">n =</span> <span class="dv">6</span>))</span>
<span id="cb398-11"><a href="アソシエーション分析.html#cb398-11" tabindex="-1"></a><span class="co">#&gt;     lhs                   rhs          support   confidence coverage  lift</span></span>
<span id="cb398-12"><a href="アソシエーション分析.html#cb398-12" tabindex="-1"></a><span class="co">#&gt; [1] {チーズ, パン}     =&gt; {缶コーヒー} 0.1428571 1          0.1428571 7.0 </span></span>
<span id="cb398-13"><a href="アソシエーション分析.html#cb398-13" tabindex="-1"></a><span class="co">#&gt; [2] {おでん, おにぎり} =&gt; {お茶}       0.1428571 1          0.1428571 7.0 </span></span>
<span id="cb398-14"><a href="アソシエーション分析.html#cb398-14" tabindex="-1"></a><span class="co">#&gt; [3] {缶コーヒー}       =&gt; {チーズ}     0.1428571 1          0.1428571 3.5 </span></span>
<span id="cb398-15"><a href="アソシエーション分析.html#cb398-15" tabindex="-1"></a><span class="co">#&gt; [4] {お茶}             =&gt; {おでん}     0.1428571 1          0.1428571 3.5 </span></span>
<span id="cb398-16"><a href="アソシエーション分析.html#cb398-16" tabindex="-1"></a><span class="co">#&gt; [5] {お茶}             =&gt; {おにぎり}   0.1428571 1          0.1428571 3.5 </span></span>
<span id="cb398-17"><a href="アソシエーション分析.html#cb398-17" tabindex="-1"></a><span class="co">#&gt; [6] {パン, 缶コーヒー} =&gt; {チーズ}     0.1428571 1          0.1428571 3.5 </span></span>
<span id="cb398-18"><a href="アソシエーション分析.html#cb398-18" tabindex="-1"></a><span class="co">#&gt;     count</span></span>
<span id="cb398-19"><a href="アソシエーション分析.html#cb398-19" tabindex="-1"></a><span class="co">#&gt; [1] 1    </span></span>
<span id="cb398-20"><a href="アソシエーション分析.html#cb398-20" tabindex="-1"></a><span class="co">#&gt; [2] 1    </span></span>
<span id="cb398-21"><a href="アソシエーション分析.html#cb398-21" tabindex="-1"></a><span class="co">#&gt; [3] 1    </span></span>
<span id="cb398-22"><a href="アソシエーション分析.html#cb398-22" tabindex="-1"></a><span class="co">#&gt; [4] 1    </span></span>
<span id="cb398-23"><a href="アソシエーション分析.html#cb398-23" tabindex="-1"></a><span class="co">#&gt; [5] 1    </span></span>
<span id="cb398-24"><a href="アソシエーション分析.html#cb398-24" tabindex="-1"></a><span class="co">#&gt; [6] 1</span></span></code></pre></div>
<p>ルール数の調整の例.</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="アソシエーション分析.html#cb399-1" tabindex="-1"></a>data_ap1 <span class="ot">&lt;-</span> <span class="fu">apriori</span>(data_tran, <span class="at">parameter =</span> <span class="fu">list</span>(<span class="at">supp =</span> <span class="fl">0.2</span>, <span class="at">maxlen =</span> <span class="dv">3</span>))</span>
<span id="cb399-2"><a href="アソシエーション分析.html#cb399-2" tabindex="-1"></a><span class="co">#&gt; Apriori</span></span>
<span id="cb399-3"><a href="アソシエーション分析.html#cb399-3" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb399-4"><a href="アソシエーション分析.html#cb399-4" tabindex="-1"></a><span class="co">#&gt; Parameter specification:</span></span>
<span id="cb399-5"><a href="アソシエーション分析.html#cb399-5" tabindex="-1"></a><span class="co">#&gt;  confidence minval smax arem  aval originalSupport maxtime support minlen</span></span>
<span id="cb399-6"><a href="アソシエーション分析.html#cb399-6" tabindex="-1"></a><span class="co">#&gt;         0.8    0.1    1 none FALSE            TRUE       5     0.2      1</span></span>
<span id="cb399-7"><a href="アソシエーション分析.html#cb399-7" tabindex="-1"></a><span class="co">#&gt;  maxlen target  ext</span></span>
<span id="cb399-8"><a href="アソシエーション分析.html#cb399-8" tabindex="-1"></a><span class="co">#&gt;       3  rules TRUE</span></span>
<span id="cb399-9"><a href="アソシエーション分析.html#cb399-9" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb399-10"><a href="アソシエーション分析.html#cb399-10" tabindex="-1"></a><span class="co">#&gt; Algorithmic control:</span></span>
<span id="cb399-11"><a href="アソシエーション分析.html#cb399-11" tabindex="-1"></a><span class="co">#&gt;  filter tree heap memopt load sort verbose</span></span>
<span id="cb399-12"><a href="アソシエーション分析.html#cb399-12" tabindex="-1"></a><span class="co">#&gt;     0.1 TRUE TRUE  FALSE TRUE    2    TRUE</span></span>
<span id="cb399-13"><a href="アソシエーション分析.html#cb399-13" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb399-14"><a href="アソシエーション分析.html#cb399-14" tabindex="-1"></a><span class="co">#&gt; Absolute minimum support count: 1 </span></span>
<span id="cb399-15"><a href="アソシエーション分析.html#cb399-15" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb399-16"><a href="アソシエーション分析.html#cb399-16" tabindex="-1"></a><span class="co">#&gt; set item appearances ...[0 item(s)] done [0.00s].</span></span>
<span id="cb399-17"><a href="アソシエーション分析.html#cb399-17" tabindex="-1"></a><span class="co">#&gt; set transactions ...[10 item(s), 7 transaction(s)] done [0.00s].</span></span>
<span id="cb399-18"><a href="アソシエーション分析.html#cb399-18" tabindex="-1"></a><span class="co">#&gt; sorting and recoding items ... [7 item(s)] done [0.00s].</span></span>
<span id="cb399-19"><a href="アソシエーション分析.html#cb399-19" tabindex="-1"></a><span class="co">#&gt; creating transaction tree ... done [0.00s].</span></span>
<span id="cb399-20"><a href="アソシエーション分析.html#cb399-20" tabindex="-1"></a><span class="co">#&gt; checking subsets of size 1 2 done [0.00s].</span></span>
<span id="cb399-21"><a href="アソシエーション分析.html#cb399-21" tabindex="-1"></a><span class="co">#&gt; writing ... [2 rule(s)] done [0.00s].</span></span>
<span id="cb399-22"><a href="アソシエーション分析.html#cb399-22" tabindex="-1"></a><span class="co">#&gt; creating S4 object  ... done [0.00s].</span></span>
<span id="cb399-23"><a href="アソシエーション分析.html#cb399-23" tabindex="-1"></a><span class="fu">inspect</span>(<span class="fu">head</span>(<span class="fu">sort</span>(data_ap1, <span class="at">by =</span> <span class="st">&quot;support&quot;</span>), <span class="at">n =</span> <span class="dv">20</span>))  <span class="co"># inspect in arules</span></span>
<span id="cb399-24"><a href="アソシエーション分析.html#cb399-24" tabindex="-1"></a><span class="co">#&gt;     lhs         rhs      support   confidence coverage  lift count</span></span>
<span id="cb399-25"><a href="アソシエーション分析.html#cb399-25" tabindex="-1"></a><span class="co">#&gt; [1] {タバコ} =&gt; {ビール} 0.2857143 1          0.2857143 1.4  2    </span></span>
<span id="cb399-26"><a href="アソシエーション分析.html#cb399-26" tabindex="-1"></a><span class="co">#&gt; [2] {オムツ} =&gt; {ビール} 0.2857143 1          0.2857143 1.4  2</span></span></code></pre></div>
<p>→ 結果の読み方の例: (1行目) タバコを購入した人 (lhs) がビールを購買する (rhs) ケースの支持度が0.2857, 確信度が1, リフト値が1.4</p>
</div>
</div>
</div>
<div id="データ分析例-2" class="section level2 hasAnchor" number="12.2">
<h2><span class="header-section-number">12.2</span> データ分析例<a href="アソシエーション分析.html#データ分析例-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="データセット-id無し-posデータ-再掲" class="section level3 unnumbered hasAnchor">
<h3>データセット: (ID無し) POSデータ (再掲)<a href="アソシエーション分析.html#データセット-id無し-posデータ-再掲" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>地方のサービスエリアの売店のレシートデータ500件 (実際のデータに加工を加えた上でランダムにサブセット化. オリジナルの地域・店舗が特定されないように工夫).</p>
<pre><code>&quot;pos_sample500_dist.csv&quot;
- n = 500, p = 16
- 行: レシート (顧客の一回当り購入バスケット)
- 列: &quot;洋菓子土産&quot;〜&quot;デザート類&quot;までの16分類の商品群
- 値: 対応するレシートに含まれる対応する商品の売上個数 (0,1,2,...)</code></pre>
<div id="posデータの読み込み" class="section level4 unnumbered hasAnchor">
<h4>posデータの読み込み<a href="アソシエーション分析.html#posデータの読み込み" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="アソシエーション分析.html#cb401-1" tabindex="-1"></a><span class="co"># library(arules)</span></span>
<span id="cb401-2"><a href="アソシエーション分析.html#cb401-2" tabindex="-1"></a>posdat <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">read.csv</span>(<span class="fu">file</span>(<span class="st">&quot;pos_sample500_dist.csv&quot;</span>, <span class="at">encoding =</span> <span class="st">&quot;Shift_JIS&quot;</span>),</span>
<span id="cb401-3"><a href="アソシエーション分析.html#cb401-3" tabindex="-1"></a>  <span class="at">header =</span> T))</span>
<span id="cb401-4"><a href="アソシエーション分析.html#cb401-4" tabindex="-1"></a><span class="fu">head</span>(posdat)</span>
<span id="cb401-5"><a href="アソシエーション分析.html#cb401-5" tabindex="-1"></a><span class="co">#&gt;      洋菓子土産 和菓子土産 地域限定菓子 水産加工品 地元名産品 畜産加工品</span></span>
<span id="cb401-6"><a href="アソシエーション分析.html#cb401-6" tabindex="-1"></a><span class="co">#&gt; [1,]          0          2            0          0          0          0</span></span>
<span id="cb401-7"><a href="アソシエーション分析.html#cb401-7" tabindex="-1"></a><span class="co">#&gt; [2,]          2          3            0          0          0          0</span></span>
<span id="cb401-8"><a href="アソシエーション分析.html#cb401-8" tabindex="-1"></a><span class="co">#&gt; [3,]          0          0            0          2          1          0</span></span>
<span id="cb401-9"><a href="アソシエーション分析.html#cb401-9" tabindex="-1"></a><span class="co">#&gt; [4,]          2          0            0          0          0          0</span></span>
<span id="cb401-10"><a href="アソシエーション分析.html#cb401-10" tabindex="-1"></a><span class="co">#&gt; [5,]          0          5            0          0          0          0</span></span>
<span id="cb401-11"><a href="アソシエーション分析.html#cb401-11" tabindex="-1"></a><span class="co">#&gt; [6,]          2          2            0          0          0          0</span></span>
<span id="cb401-12"><a href="アソシエーション分析.html#cb401-12" tabindex="-1"></a><span class="co">#&gt;      農産加工品 ご当地グロッサリー 玩具土産 雑貨土産 雑貨類 菓子類 麺類</span></span>
<span id="cb401-13"><a href="アソシエーション分析.html#cb401-13" tabindex="-1"></a><span class="co">#&gt; [1,]          0                  0        0        0      0      1    0</span></span>
<span id="cb401-14"><a href="アソシエーション分析.html#cb401-14" tabindex="-1"></a><span class="co">#&gt; [2,]          0                  0        0        0      0      0    0</span></span>
<span id="cb401-15"><a href="アソシエーション分析.html#cb401-15" tabindex="-1"></a><span class="co">#&gt; [3,]          0                  0        0        0      0      0    0</span></span>
<span id="cb401-16"><a href="アソシエーション分析.html#cb401-16" tabindex="-1"></a><span class="co">#&gt; [4,]          0                  1        0        0      0      0    0</span></span>
<span id="cb401-17"><a href="アソシエーション分析.html#cb401-17" tabindex="-1"></a><span class="co">#&gt; [5,]          0                  0        0        0      0      0    0</span></span>
<span id="cb401-18"><a href="アソシエーション分析.html#cb401-18" tabindex="-1"></a><span class="co">#&gt; [6,]          0                  0        0        0      0      0    0</span></span>
<span id="cb401-19"><a href="アソシエーション分析.html#cb401-19" tabindex="-1"></a><span class="co">#&gt;      パン.弁当類 飲料 デザート等</span></span>
<span id="cb401-20"><a href="アソシエーション分析.html#cb401-20" tabindex="-1"></a><span class="co">#&gt; [1,]           0    2          0</span></span>
<span id="cb401-21"><a href="アソシエーション分析.html#cb401-21" tabindex="-1"></a><span class="co">#&gt; [2,]           0    0          0</span></span>
<span id="cb401-22"><a href="アソシエーション分析.html#cb401-22" tabindex="-1"></a><span class="co">#&gt; [3,]           0    0          0</span></span>
<span id="cb401-23"><a href="アソシエーション分析.html#cb401-23" tabindex="-1"></a><span class="co">#&gt; [4,]           0    0          0</span></span>
<span id="cb401-24"><a href="アソシエーション分析.html#cb401-24" tabindex="-1"></a><span class="co">#&gt; [5,]           0    0          0</span></span>
<span id="cb401-25"><a href="アソシエーション分析.html#cb401-25" tabindex="-1"></a><span class="co">#&gt; [6,]           0    0          0</span></span>
<span id="cb401-26"><a href="アソシエーション分析.html#cb401-26" tabindex="-1"></a>data.tran <span class="ot">&lt;-</span> <span class="fu">as</span>(posdat, <span class="st">&quot;itemMatrix&quot;</span>)  <span class="co"># itemMatrix in sparse format</span></span></code></pre></div>
</div>
<div id="アイテム頻度プロット-1" class="section level4 unnumbered hasAnchor">
<h4>アイテム頻度プロット<a href="アソシエーション分析.html#アイテム頻度プロット-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb402"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb402-1"><a href="アソシエーション分析.html#cb402-1" tabindex="-1"></a><span class="co"># itemFrequencyPlot(data_tran, type = &#39;absolute&#39;)</span></span>
<span id="cb402-2"><a href="アソシエーション分析.html#cb402-2" tabindex="-1"></a><span class="fu">itemFrequencyPlot</span>(data_tran)  <span class="co"># 相対頻度</span></span></code></pre></div>
<p><img src="130-assoc_files/figure-html/unnamed-chunk-5-1.png" width="75%" /></p>
</div>
<div id="アソシエーションルール生成抽出" class="section level4 unnumbered hasAnchor">
<h4>アソシエーション・ルール生成&amp;抽出<a href="アソシエーション分析.html#アソシエーションルール生成抽出" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb403-1"><a href="アソシエーション分析.html#cb403-1" tabindex="-1"></a>data.ap <span class="ot">&lt;-</span> <span class="fu">apriori</span>(data_tran, <span class="at">parameter =</span> <span class="fu">list</span>(<span class="at">supp =</span> <span class="fl">0.001</span>, <span class="at">conf =</span> <span class="fl">0.001</span>, <span class="at">minlen =</span> <span class="dv">2</span>,</span>
<span id="cb403-2"><a href="アソシエーション分析.html#cb403-2" tabindex="-1"></a>  <span class="at">maxlen =</span> <span class="dv">3</span>))</span>
<span id="cb403-3"><a href="アソシエーション分析.html#cb403-3" tabindex="-1"></a><span class="co">#&gt; Apriori</span></span>
<span id="cb403-4"><a href="アソシエーション分析.html#cb403-4" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb403-5"><a href="アソシエーション分析.html#cb403-5" tabindex="-1"></a><span class="co">#&gt; Parameter specification:</span></span>
<span id="cb403-6"><a href="アソシエーション分析.html#cb403-6" tabindex="-1"></a><span class="co">#&gt;  confidence minval smax arem  aval originalSupport maxtime support minlen</span></span>
<span id="cb403-7"><a href="アソシエーション分析.html#cb403-7" tabindex="-1"></a><span class="co">#&gt;       0.001    0.1    1 none FALSE            TRUE       5   0.001      2</span></span>
<span id="cb403-8"><a href="アソシエーション分析.html#cb403-8" tabindex="-1"></a><span class="co">#&gt;  maxlen target  ext</span></span>
<span id="cb403-9"><a href="アソシエーション分析.html#cb403-9" tabindex="-1"></a><span class="co">#&gt;       3  rules TRUE</span></span>
<span id="cb403-10"><a href="アソシエーション分析.html#cb403-10" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb403-11"><a href="アソシエーション分析.html#cb403-11" tabindex="-1"></a><span class="co">#&gt; Algorithmic control:</span></span>
<span id="cb403-12"><a href="アソシエーション分析.html#cb403-12" tabindex="-1"></a><span class="co">#&gt;  filter tree heap memopt load sort verbose</span></span>
<span id="cb403-13"><a href="アソシエーション分析.html#cb403-13" tabindex="-1"></a><span class="co">#&gt;     0.1 TRUE TRUE  FALSE TRUE    2    TRUE</span></span>
<span id="cb403-14"><a href="アソシエーション分析.html#cb403-14" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb403-15"><a href="アソシエーション分析.html#cb403-15" tabindex="-1"></a><span class="co">#&gt; Absolute minimum support count: 0 </span></span>
<span id="cb403-16"><a href="アソシエーション分析.html#cb403-16" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb403-17"><a href="アソシエーション分析.html#cb403-17" tabindex="-1"></a><span class="co">#&gt; set item appearances ...[0 item(s)] done [0.00s].</span></span>
<span id="cb403-18"><a href="アソシエーション分析.html#cb403-18" tabindex="-1"></a><span class="co">#&gt; set transactions ...[10 item(s), 7 transaction(s)] done [0.00s].</span></span>
<span id="cb403-19"><a href="アソシエーション分析.html#cb403-19" tabindex="-1"></a><span class="co">#&gt; sorting and recoding items ... [10 item(s)] done [0.00s].</span></span>
<span id="cb403-20"><a href="アソシエーション分析.html#cb403-20" tabindex="-1"></a><span class="co">#&gt; creating transaction tree ... done [0.00s].</span></span>
<span id="cb403-21"><a href="アソシエーション分析.html#cb403-21" tabindex="-1"></a><span class="co">#&gt; checking subsets of size 1 2 3 done [0.00s].</span></span>
<span id="cb403-22"><a href="アソシエーション分析.html#cb403-22" tabindex="-1"></a><span class="co">#&gt; writing ... [65 rule(s)] done [0.00s].</span></span>
<span id="cb403-23"><a href="アソシエーション分析.html#cb403-23" tabindex="-1"></a><span class="co">#&gt; creating S4 object  ... done [0.00s].</span></span></code></pre></div>
</div>
<div id="支持度でソート-上位20件" class="section level4 unnumbered hasAnchor">
<h4>支持度でソート (上位20件)<a href="アソシエーション分析.html#支持度でソート-上位20件" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb404"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb404-1"><a href="アソシエーション分析.html#cb404-1" tabindex="-1"></a><span class="fu">inspect</span>(<span class="fu">head</span>(<span class="fu">sort</span>(data_ap, <span class="at">by =</span> <span class="st">&quot;support&quot;</span>), <span class="at">n =</span> <span class="dv">20</span>))</span>
<span id="cb404-2"><a href="アソシエーション分析.html#cb404-2" tabindex="-1"></a><span class="co">#&gt;      lhs                     rhs          support   confidence coverage </span></span>
<span id="cb404-3"><a href="アソシエーション分析.html#cb404-3" tabindex="-1"></a><span class="co">#&gt; [1]  {タバコ}             =&gt; {ビール}     0.2857143 1          0.2857143</span></span>
<span id="cb404-4"><a href="アソシエーション分析.html#cb404-4" tabindex="-1"></a><span class="co">#&gt; [2]  {オムツ}             =&gt; {ビール}     0.2857143 1          0.2857143</span></span>
<span id="cb404-5"><a href="アソシエーション分析.html#cb404-5" tabindex="-1"></a><span class="co">#&gt; [3]  {缶コーヒー}         =&gt; {チーズ}     0.1428571 1          0.1428571</span></span>
<span id="cb404-6"><a href="アソシエーション分析.html#cb404-6" tabindex="-1"></a><span class="co">#&gt; [4]  {缶コーヒー}         =&gt; {パン}       0.1428571 1          0.1428571</span></span>
<span id="cb404-7"><a href="アソシエーション分析.html#cb404-7" tabindex="-1"></a><span class="co">#&gt; [5]  {お茶}               =&gt; {おでん}     0.1428571 1          0.1428571</span></span>
<span id="cb404-8"><a href="アソシエーション分析.html#cb404-8" tabindex="-1"></a><span class="co">#&gt; [6]  {お茶}               =&gt; {おにぎり}   0.1428571 1          0.1428571</span></span>
<span id="cb404-9"><a href="アソシエーション分析.html#cb404-9" tabindex="-1"></a><span class="co">#&gt; [7]  {ハム}               =&gt; {パン}       0.1428571 1          0.1428571</span></span>
<span id="cb404-10"><a href="アソシエーション分析.html#cb404-10" tabindex="-1"></a><span class="co">#&gt; [8]  {ハム}               =&gt; {ビール}     0.1428571 1          0.1428571</span></span>
<span id="cb404-11"><a href="アソシエーション分析.html#cb404-11" tabindex="-1"></a><span class="co">#&gt; [9]  {チーズ, 缶コーヒー} =&gt; {パン}       0.1428571 1          0.1428571</span></span>
<span id="cb404-12"><a href="アソシエーション分析.html#cb404-12" tabindex="-1"></a><span class="co">#&gt; [10] {パン, 缶コーヒー}   =&gt; {チーズ}     0.1428571 1          0.1428571</span></span>
<span id="cb404-13"><a href="アソシエーション分析.html#cb404-13" tabindex="-1"></a><span class="co">#&gt; [11] {チーズ, パン}       =&gt; {缶コーヒー} 0.1428571 1          0.1428571</span></span>
<span id="cb404-14"><a href="アソシエーション分析.html#cb404-14" tabindex="-1"></a><span class="co">#&gt; [12] {おでん, お茶}       =&gt; {おにぎり}   0.1428571 1          0.1428571</span></span>
<span id="cb404-15"><a href="アソシエーション分析.html#cb404-15" tabindex="-1"></a><span class="co">#&gt; [13] {おにぎり, お茶}     =&gt; {おでん}     0.1428571 1          0.1428571</span></span>
<span id="cb404-16"><a href="アソシエーション分析.html#cb404-16" tabindex="-1"></a><span class="co">#&gt; [14] {おでん, おにぎり}   =&gt; {お茶}       0.1428571 1          0.1428571</span></span>
<span id="cb404-17"><a href="アソシエーション分析.html#cb404-17" tabindex="-1"></a><span class="co">#&gt; [15] {ハム, パン}         =&gt; {ビール}     0.1428571 1          0.1428571</span></span>
<span id="cb404-18"><a href="アソシエーション分析.html#cb404-18" tabindex="-1"></a><span class="co">#&gt; [16] {ハム, ビール}       =&gt; {パン}       0.1428571 1          0.1428571</span></span>
<span id="cb404-19"><a href="アソシエーション分析.html#cb404-19" tabindex="-1"></a><span class="co">#&gt; [17] {オムツ, タバコ}     =&gt; {ビール}     0.1428571 1          0.1428571</span></span>
<span id="cb404-20"><a href="アソシエーション分析.html#cb404-20" tabindex="-1"></a><span class="co">#&gt; [18] {おでん, チーズ}     =&gt; {ビール}     0.1428571 1          0.1428571</span></span>
<span id="cb404-21"><a href="アソシエーション分析.html#cb404-21" tabindex="-1"></a><span class="co">#&gt; [19] {チーズ, ビール}     =&gt; {おでん}     0.1428571 1          0.1428571</span></span>
<span id="cb404-22"><a href="アソシエーション分析.html#cb404-22" tabindex="-1"></a><span class="co">#&gt; [20] {おでん, ビール}     =&gt; {チーズ}     0.1428571 1          0.1428571</span></span>
<span id="cb404-23"><a href="アソシエーション分析.html#cb404-23" tabindex="-1"></a><span class="co">#&gt;      lift     count</span></span>
<span id="cb404-24"><a href="アソシエーション分析.html#cb404-24" tabindex="-1"></a><span class="co">#&gt; [1]  1.400000 2    </span></span>
<span id="cb404-25"><a href="アソシエーション分析.html#cb404-25" tabindex="-1"></a><span class="co">#&gt; [2]  1.400000 2    </span></span>
<span id="cb404-26"><a href="アソシエーション分析.html#cb404-26" tabindex="-1"></a><span class="co">#&gt; [3]  3.500000 1    </span></span>
<span id="cb404-27"><a href="アソシエーション分析.html#cb404-27" tabindex="-1"></a><span class="co">#&gt; [4]  2.333333 1    </span></span>
<span id="cb404-28"><a href="アソシエーション分析.html#cb404-28" tabindex="-1"></a><span class="co">#&gt; [5]  3.500000 1    </span></span>
<span id="cb404-29"><a href="アソシエーション分析.html#cb404-29" tabindex="-1"></a><span class="co">#&gt; [6]  3.500000 1    </span></span>
<span id="cb404-30"><a href="アソシエーション分析.html#cb404-30" tabindex="-1"></a><span class="co">#&gt; [7]  2.333333 1    </span></span>
<span id="cb404-31"><a href="アソシエーション分析.html#cb404-31" tabindex="-1"></a><span class="co">#&gt; [8]  1.400000 1    </span></span>
<span id="cb404-32"><a href="アソシエーション分析.html#cb404-32" tabindex="-1"></a><span class="co">#&gt; [9]  2.333333 1    </span></span>
<span id="cb404-33"><a href="アソシエーション分析.html#cb404-33" tabindex="-1"></a><span class="co">#&gt; [10] 3.500000 1    </span></span>
<span id="cb404-34"><a href="アソシエーション分析.html#cb404-34" tabindex="-1"></a><span class="co">#&gt; [11] 7.000000 1    </span></span>
<span id="cb404-35"><a href="アソシエーション分析.html#cb404-35" tabindex="-1"></a><span class="co">#&gt; [12] 3.500000 1    </span></span>
<span id="cb404-36"><a href="アソシエーション分析.html#cb404-36" tabindex="-1"></a><span class="co">#&gt; [13] 3.500000 1    </span></span>
<span id="cb404-37"><a href="アソシエーション分析.html#cb404-37" tabindex="-1"></a><span class="co">#&gt; [14] 7.000000 1    </span></span>
<span id="cb404-38"><a href="アソシエーション分析.html#cb404-38" tabindex="-1"></a><span class="co">#&gt; [15] 1.400000 1    </span></span>
<span id="cb404-39"><a href="アソシエーション分析.html#cb404-39" tabindex="-1"></a><span class="co">#&gt; [16] 2.333333 1    </span></span>
<span id="cb404-40"><a href="アソシエーション分析.html#cb404-40" tabindex="-1"></a><span class="co">#&gt; [17] 1.400000 1    </span></span>
<span id="cb404-41"><a href="アソシエーション分析.html#cb404-41" tabindex="-1"></a><span class="co">#&gt; [18] 1.400000 1    </span></span>
<span id="cb404-42"><a href="アソシエーション分析.html#cb404-42" tabindex="-1"></a><span class="co">#&gt; [19] 3.500000 1    </span></span>
<span id="cb404-43"><a href="アソシエーション分析.html#cb404-43" tabindex="-1"></a><span class="co">#&gt; [20] 3.500000 1</span></span></code></pre></div>
<p>apriori関数のパラメータ指定において, minlen, maxlenによって, ルールに含まれるアイテム数の合計値 (lhs+rhs) の最小値, 最大値をコントロールする.</p>
<ul>
<li>読み方の例: (20行目) 洋菓子土産と和菓子土産を同時に買った人 (lhs) が飲料 (rhs) を買うケースの支持度が0.026, 確信度が0.1806, リフト値が0.6019</li>
</ul>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="アソシエーション分析.html#cb405-1" tabindex="-1"></a><span class="co"># 確信度でソート(上位10件)</span></span>
<span id="cb405-2"><a href="アソシエーション分析.html#cb405-2" tabindex="-1"></a><span class="fu">inspect</span>(<span class="fu">head</span>(<span class="fu">sort</span>(data_ap, <span class="at">by =</span> <span class="st">&quot;confidence&quot;</span>), <span class="at">n =</span> <span class="dv">10</span>))</span>
<span id="cb405-3"><a href="アソシエーション分析.html#cb405-3" tabindex="-1"></a><span class="co">#&gt;      lhs                     rhs        support   confidence coverage  lift    </span></span>
<span id="cb405-4"><a href="アソシエーション分析.html#cb405-4" tabindex="-1"></a><span class="co">#&gt; [1]  {缶コーヒー}         =&gt; {チーズ}   0.1428571 1          0.1428571 3.500000</span></span>
<span id="cb405-5"><a href="アソシエーション分析.html#cb405-5" tabindex="-1"></a><span class="co">#&gt; [2]  {缶コーヒー}         =&gt; {パン}     0.1428571 1          0.1428571 2.333333</span></span>
<span id="cb405-6"><a href="アソシエーション分析.html#cb405-6" tabindex="-1"></a><span class="co">#&gt; [3]  {お茶}               =&gt; {おでん}   0.1428571 1          0.1428571 3.500000</span></span>
<span id="cb405-7"><a href="アソシエーション分析.html#cb405-7" tabindex="-1"></a><span class="co">#&gt; [4]  {お茶}               =&gt; {おにぎり} 0.1428571 1          0.1428571 3.500000</span></span>
<span id="cb405-8"><a href="アソシエーション分析.html#cb405-8" tabindex="-1"></a><span class="co">#&gt; [5]  {ハム}               =&gt; {パン}     0.1428571 1          0.1428571 2.333333</span></span>
<span id="cb405-9"><a href="アソシエーション分析.html#cb405-9" tabindex="-1"></a><span class="co">#&gt; [6]  {ハム}               =&gt; {ビール}   0.1428571 1          0.1428571 1.400000</span></span>
<span id="cb405-10"><a href="アソシエーション分析.html#cb405-10" tabindex="-1"></a><span class="co">#&gt; [7]  {タバコ}             =&gt; {ビール}   0.2857143 1          0.2857143 1.400000</span></span>
<span id="cb405-11"><a href="アソシエーション分析.html#cb405-11" tabindex="-1"></a><span class="co">#&gt; [8]  {オムツ}             =&gt; {ビール}   0.2857143 1          0.2857143 1.400000</span></span>
<span id="cb405-12"><a href="アソシエーション分析.html#cb405-12" tabindex="-1"></a><span class="co">#&gt; [9]  {チーズ, 缶コーヒー} =&gt; {パン}     0.1428571 1          0.1428571 2.333333</span></span>
<span id="cb405-13"><a href="アソシエーション分析.html#cb405-13" tabindex="-1"></a><span class="co">#&gt; [10] {パン, 缶コーヒー}   =&gt; {チーズ}   0.1428571 1          0.1428571 3.500000</span></span>
<span id="cb405-14"><a href="アソシエーション分析.html#cb405-14" tabindex="-1"></a><span class="co">#&gt;      count</span></span>
<span id="cb405-15"><a href="アソシエーション分析.html#cb405-15" tabindex="-1"></a><span class="co">#&gt; [1]  1    </span></span>
<span id="cb405-16"><a href="アソシエーション分析.html#cb405-16" tabindex="-1"></a><span class="co">#&gt; [2]  1    </span></span>
<span id="cb405-17"><a href="アソシエーション分析.html#cb405-17" tabindex="-1"></a><span class="co">#&gt; [3]  1    </span></span>
<span id="cb405-18"><a href="アソシエーション分析.html#cb405-18" tabindex="-1"></a><span class="co">#&gt; [4]  1    </span></span>
<span id="cb405-19"><a href="アソシエーション分析.html#cb405-19" tabindex="-1"></a><span class="co">#&gt; [5]  1    </span></span>
<span id="cb405-20"><a href="アソシエーション分析.html#cb405-20" tabindex="-1"></a><span class="co">#&gt; [6]  1    </span></span>
<span id="cb405-21"><a href="アソシエーション分析.html#cb405-21" tabindex="-1"></a><span class="co">#&gt; [7]  2    </span></span>
<span id="cb405-22"><a href="アソシエーション分析.html#cb405-22" tabindex="-1"></a><span class="co">#&gt; [8]  2    </span></span>
<span id="cb405-23"><a href="アソシエーション分析.html#cb405-23" tabindex="-1"></a><span class="co">#&gt; [9]  1    </span></span>
<span id="cb405-24"><a href="アソシエーション分析.html#cb405-24" tabindex="-1"></a><span class="co">#&gt; [10] 1</span></span></code></pre></div>
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb406-1"><a href="アソシエーション分析.html#cb406-1" tabindex="-1"></a><span class="co"># リフト値でソート(下位10件)</span></span>
<span id="cb406-2"><a href="アソシエーション分析.html#cb406-2" tabindex="-1"></a><span class="fu">inspect</span>(<span class="fu">head</span>(<span class="fu">rev</span>(<span class="fu">sort</span>(data_ap, <span class="at">by =</span> <span class="st">&quot;lift&quot;</span>)), <span class="at">n =</span> <span class="dv">10</span>))</span>
<span id="cb406-3"><a href="アソシエーション分析.html#cb406-3" tabindex="-1"></a><span class="co">#&gt;      lhs                         rhs      support   confidence coverage  lift</span></span>
<span id="cb406-4"><a href="アソシエーション分析.html#cb406-4" tabindex="-1"></a><span class="co">#&gt; [1]  {おにぎり, オムツ, パン} =&gt; {ビール} 0.1428571 1          0.1428571 1.4 </span></span>
<span id="cb406-5"><a href="アソシエーション分析.html#cb406-5" tabindex="-1"></a><span class="co">#&gt; [2]  {オムツ, パン}           =&gt; {ビール} 0.1428571 1          0.1428571 1.4 </span></span>
<span id="cb406-6"><a href="アソシエーション分析.html#cb406-6" tabindex="-1"></a><span class="co">#&gt; [3]  {おにぎり, パン}         =&gt; {ビール} 0.1428571 1          0.1428571 1.4 </span></span>
<span id="cb406-7"><a href="アソシエーション分析.html#cb406-7" tabindex="-1"></a><span class="co">#&gt; [4]  {おにぎり, オムツ}       =&gt; {ビール} 0.1428571 1          0.1428571 1.4 </span></span>
<span id="cb406-8"><a href="アソシエーション分析.html#cb406-8" tabindex="-1"></a><span class="co">#&gt; [5]  {おでん, チーズ}         =&gt; {ビール} 0.1428571 1          0.1428571 1.4 </span></span>
<span id="cb406-9"><a href="アソシエーション分析.html#cb406-9" tabindex="-1"></a><span class="co">#&gt; [6]  {オムツ, タバコ}         =&gt; {ビール} 0.1428571 1          0.1428571 1.4 </span></span>
<span id="cb406-10"><a href="アソシエーション分析.html#cb406-10" tabindex="-1"></a><span class="co">#&gt; [7]  {ハム, パン}             =&gt; {ビール} 0.1428571 1          0.1428571 1.4 </span></span>
<span id="cb406-11"><a href="アソシエーション分析.html#cb406-11" tabindex="-1"></a><span class="co">#&gt; [8]  {オムツ}                 =&gt; {ビール} 0.2857143 1          0.2857143 1.4 </span></span>
<span id="cb406-12"><a href="アソシエーション分析.html#cb406-12" tabindex="-1"></a><span class="co">#&gt; [9]  {タバコ}                 =&gt; {ビール} 0.2857143 1          0.2857143 1.4 </span></span>
<span id="cb406-13"><a href="アソシエーション分析.html#cb406-13" tabindex="-1"></a><span class="co">#&gt; [10] {ハム}                   =&gt; {ビール} 0.1428571 1          0.1428571 1.4 </span></span>
<span id="cb406-14"><a href="アソシエーション分析.html#cb406-14" tabindex="-1"></a><span class="co">#&gt;      count</span></span>
<span id="cb406-15"><a href="アソシエーション分析.html#cb406-15" tabindex="-1"></a><span class="co">#&gt; [1]  1    </span></span>
<span id="cb406-16"><a href="アソシエーション分析.html#cb406-16" tabindex="-1"></a><span class="co">#&gt; [2]  1    </span></span>
<span id="cb406-17"><a href="アソシエーション分析.html#cb406-17" tabindex="-1"></a><span class="co">#&gt; [3]  1    </span></span>
<span id="cb406-18"><a href="アソシエーション分析.html#cb406-18" tabindex="-1"></a><span class="co">#&gt; [4]  1    </span></span>
<span id="cb406-19"><a href="アソシエーション分析.html#cb406-19" tabindex="-1"></a><span class="co">#&gt; [5]  1    </span></span>
<span id="cb406-20"><a href="アソシエーション分析.html#cb406-20" tabindex="-1"></a><span class="co">#&gt; [6]  1    </span></span>
<span id="cb406-21"><a href="アソシエーション分析.html#cb406-21" tabindex="-1"></a><span class="co">#&gt; [7]  1    </span></span>
<span id="cb406-22"><a href="アソシエーション分析.html#cb406-22" tabindex="-1"></a><span class="co">#&gt; [8]  2    </span></span>
<span id="cb406-23"><a href="アソシエーション分析.html#cb406-23" tabindex="-1"></a><span class="co">#&gt; [9]  2    </span></span>
<span id="cb406-24"><a href="アソシエーション分析.html#cb406-24" tabindex="-1"></a><span class="co">#&gt; [10] 1</span></span></code></pre></div>
<ul>
<li>リフト値 (or 確信度) 下位10件を調べる意味は?</li>
</ul>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="クラスター分析.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
